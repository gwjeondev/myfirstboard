include ./reply

mixin comments(comment={})
    section.comment
        .comment__container#CommentContainer            
            ul.comment__area#CommentArea
                each cmtItem in comment
                    li.comment__list(id=cmtItem.id)
                        .commment__inner
                            .comment__title
                                .comment__creator
                                    span=cmtItem.creator.name
                                    span=cmtItem.createTime
                                if loggedUser && cmtItem.creator._id.toString() === loggedUser.id
                                    .comment__btn
                                        span.comment__reply
                                            i.fas.fa-reply-all
                                        span.comment__delete
                                            i.fas.fa-trash-alt
                            .comment__text
                                span=cmtItem.text
                    if cmtItem.child.length > 0
                        +reply(cmtItem.child)
            form#CommentAdd
                if loggedUser
                    textarea(placeholder="댓글 입력")#CommentInput
                else 
                    textarea(placeholder="로그인이 필요합니다.", disabled)
                input(type="submit" value="등록")